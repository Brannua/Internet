#### 计算机网络体系结构中的专用术语

> 这些专用属于来自 OSI 的 7 层体系结构，也适用于 TCP/IP 的 4 层体系结构和 5 层原理体系结构

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220307121857945.png" alt="image-20220307121857945" style="zoom:25%;" />

##### 实体

- 实体：指任何可以发送或接收信息的「硬件」或「软件进程」

	- 如下是通信双方的 5 层原理体系结构，我们用标有字母的小方格来表示实体

- 对等实体：指通信双方相同层次中的实体

	- 比如，通信双方的网卡，就是对等实体

	- 比如，通信双方中正在进行逻辑通信的应用进程，也是对等实体

![image-20220307122541104](https://gitee.com/pj-l/imgs-1/raw/master/image-20220307122541104.png)

##### 协议

- 协议：指控制两个对等实体进行逻辑通信的规则的集合

![image-20220307123433650](https://gitee.com/pj-l/imgs-1/raw/master/image-20220307123433650.png)

- 协议的 3 要素：

	- **语法**

		- 定义通信双方所交换信息的格式

		- 例如下图是 IP 数据报的格式，其中的小格子称为「字段」或「域」，数字表示字段的长度，单位是位，也就是比特

		- 所以语法就是定义了这些小格子的长度和先后顺序

		- 换句话说，语法定义了通信双方所交换的信息由哪些字段以及何种顺序构成

		- 注意：其实我们没有必要记住每种分组的格式，只要能看懂它们的格式说明即可

		<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220308205902672.png" alt="image-20220308205902672" style="zoom:50%;" />

	- **语义**

		- 定义通信双方所要完成的操作
	
	- **同步**

		- 定义通信双方的时序关系

		- 例如下图 TCP 采用「3 报文握手」建立连接的过程

		- 要想进行运输层 TCP 实体间的逻辑通信，首先需要建立连接，从连接建立的过程就可以看出 TCP 客户端与 TCP 服务端之间的（时序关系 & 各自状态的转换）

		- 只有双方建立连接后，才可以进行 TCP 数据传输

		<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220308210410140.png" alt="image-20220308210410140" style="zoom:50%;" />

##### 服务

- 在协议的控制下，两个对等实体间的逻辑通信使得本层能够向上一层提供服务

	- 物理层对等实体在物理层协议的控制下向数据链路层提供服务

- 要实现本层协议，还需要使用下面一层所提供的服务

	- 数据链路层对等实体享受物理层提供的服务，并在数据链路层协议的控制下进行逻辑通信，给网络层提供服务

	- 网络层对等实体享受数据链路层提供的服务，并在网络层协议的控制下进行逻辑通信，给运输层提供服务

	- 运输层对等实体享受网络层提供的服务，并在运输层协议的控制下进行逻辑通信，给应用层提供服务

	- 应用层对等实体享受运输层提供的服务，并在应用层协议的控制下进行逻辑通信，给其上层，也就是用户提供服务

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220308213715353.png" alt="image-20220308213715353" style="zoom:40%;" />

> 所以说：协议是「水平的」，而服务是「垂直的」

> 注意：
> 
> 实体看得见相邻下层所提供的服务，但并不知道实现该服务的具体协议。也就是说：下面的协议对上面的实体是「透明」的

##### 服务访问点

- 同一系统中相邻两层的实体交换信息的逻辑接口，被称为服务访问点；用于区分不同的服务类型

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220308213126225.png" alt="image-20220308213126225" style="zoom: 67%;" />

##### 服务原语

- 上层要使用下层所提供的服务，必须通过与下层交换一些命令，这些命令被称为服务原语

##### （某层之间的）协议数据单元（PDU）

- 在计算机网络体系结构中，通信双方对等层次之间所交互的数据包被称为该层的协议数据单元（PDU）

	- 物理层对等实体逻辑通信的数据包称为比特流

	- 数据链路层对等实体逻辑通信的数据包称为帧
	
	- 网络层对等实体逻辑通信的数据包称为分组，如果使用 IP 协议，也称为 IP 数据报
	
	- 运输层对等实体逻辑通信的数据包一般根据协议而定（若使用 TCP 协议，则称为 TCP 报文段；若使用 UDP 协议，则称为 UDP 用户数据报）
	
	- 应用层对等实体逻辑通信的数据包称为应用报文

> 上述各层数据包可以统称为协议数据单元（PDU）

##### （同一系统内）服务数据单元（SDU）

- 同一系统内层与层之间交换的数据包称为服务数据单元（SDU）

> 注意：多个服务数据单元可以合成一个协议数据单元，一个服务数据单元也可以划分为多个协议数据单元

