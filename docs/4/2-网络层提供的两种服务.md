#### 1、面向连接的虚电路服务

**可靠通信由网络来保证**

- 下图是一个小型的互连网

![image-20220412121615373](https://aliyun-oss-lpj.oss-cn-qingdao.aliyuncs.com/images/by-picgo/image-20220412121615373.png)

- 当两台计算机进行通信时，会首先建立网络层的连接，即：建立一条虚电路（`V`irtual `C`ircuit）

  - 以保障通信双方所需的一切网络资源

- 然后分组在虚电路上按照存储转发的方式进行传送

  - 注意：虚电路只是一条逻辑上的连接，而电话通信采用电路交换，建立的是一条真正的物理连接

![image-20220412121952655](https://aliyun-oss-lpj.oss-cn-qingdao.aliyuncs.com/images/by-picgo/image-20220412121952655.png)

- 仅在连接建立阶段，分组的首部使用了目的主机的地址；之后，每个分组的首部都仅需携带一条虚电路的编号

  - 注意：构成虚电路的每一段链路都有一个虚电路编号

> 这种通信方式配合可靠传输的网络协议，就能实现分组的可靠传输
>
> 通信结束后，需要将虚电路**释放**

![image-20220412162705856](https://aliyun-oss-lpj.oss-cn-qingdao.aliyuncs.com/images/by-picgo/image-20220412162705856.png)

> 然而因特网的先驱并没有采用这种设计思路，而是采用了无连接的数据报服务 ！

#### 2、无连接的数据报服务

**可靠通信由用户主机来保证**

- 当两台计算机进行通信时

  - 它们的网络层不需要事先建立连接

  - 每个分组可走不同的路径

  - 因此：分组的首部必须携带目的主机的完整地址

- Internet 采用了这种设计思想，即：

  - 将复杂的网络处理功能置于因特网的边缘（用户主机和其内部的运输层）

  - 而将相对简单的尽最大努力的分组交付功能置于因特网核心

- 这种设计思想的优点：

  - 运行方式灵活，并且能够适应多种应用

  - 由于网络本身并不提供端到端的可靠传输服务，因此网络中的路由器可以做得简单且便宜，使得网络的造价大大降低（这是与电信网交换机相比的）

- 缺点：

  - 这种通信方式可能造成分组的（误码、丢失、重复、失序）

![image-20220412163827696](https://aliyun-oss-lpj.oss-cn-qingdao.aliyuncs.com/images/by-picgo/image-20220412163827696.png)