#### 信道复用的基本概念

> 复用（Multiplexing）是通信技术中的一个重要概念，即：通过一条物理线路同时传输多路用户的信号

- 当网络中传输媒体的传输容量大于多条单一信道传输的总通信量时，就可使用复用技术在一条物理线路上建立多条通信信道来充分利用传输媒体的带宽

- 如图所示，三对用户各自使用一条独立的物理线路进行通信

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220320221947879.png" alt="image-20220320221947879" style="zoom:50%;" />

- 如果在发送端使用「复用器」，在接收端使用「分用器」，则这三对用户就可共享一条物理线路进行通信

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220320222151253.png" alt="image-20220320222151253" style="zoom:50%;" />

- 常见的信道复用技术：

	- 频分复用 FDM

	- 时分复用 TDM

	- 波分复用 WDM

	- 码分复用 CDM

##### 频分复用 FDM

- 如图所示，将传输线路的频带资源划分为多个「子频带」，形成多个「子信道」，各子信道之间需要留出「隔离频带」，以免造成子信道间的干扰

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220320225645470.png" alt="image-20220320225645470" style="zoom:40%;" />

- 当多路信号输入一个多路复用器时，这个复用器会将每一路信号调制到不同频率的载波上

- 接收端的分用器会通过「滤波」将各路信号分开，合成的复用信号就被恢复成了原始的多路信号

> 显然，频分复用的所有用户同时占用不同的频带资源并行通信

##### 时分复用 TDM

- 如图所示，横坐标为时间

- 时分复用技术将时间划分成了一段段等长的「时隙」

- 传输线路的带宽资源按时隙轮流分配给不同的用户（每对用户只在自己的时隙里使用线路进行数据传输）

- 因此

	- 对于一对用户来说，它们所占用的时隙是周期性出现的，其周期长度 = 时分复用帧（TDM 帧）的长度

	- 在每一个时分复用帧中，每一个用户占用固定序号的时隙

- 显然，时分复用的所有用户在不同的时间占用同样的频带宽度

![image-20220321104850541](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321104850541.png)

##### 波分复用 WDM

> 波分复用其实就是光的频分复用

- 如图所示，8 路传输速率均为 2.5 Gbps 的光载波，其波长均为 1310 nm

- 经过光调制后，分别将波长变换到 1550～1561.2 nm

- 每个光载波相隔 1.6 nm

- 这 8 个波长很接近的光载波，经过光复用器，在一根光纤中传输

- 因此，这根光纤上传输数据的总速率就达到了 8 * 2.5 Gbps = 20 Gbps

- 由于光信号传输一段距离后会衰减，因此对衰减了的光信号必须进行放大才能继续传输（可以使用「掺铒光纤放大器 EDFA」）

- 两个光纤放大器之间的光缆线路长度可达 120 km

- 光复用器（合波器）和光分用器（分波器）之间可以放入 4 个掺铒光纤放大器，使得光复用器和光分用器之间的无光电转换的距离可达 600 km

![image-20220321110351037](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321110351037.png)

##### 码分复用 CDM

- 与 频分复用（FDM）和 时分复用（TDM）不同

- 码分复用（CDM）允许每一个用户在同样的时间使用同样的频带进行通信

- 由于各用户使用经过挑选的不同码型，因此各用户之间不会互相干扰

- 码分复用最初用于「军事通信」，因为这种系统所发送的信号有很强的抗干扰能力，其频谱类似于白噪声，不容易被敌人发现

- 随着技术的进步，码分多址（CDMA）设备的体积和价格都大幅度下降，因而现在已经广泛应用于民用的移动通信中

---

- 在码分多址（CDMA）中，每一个比特时间被划分为 m 个短的间隔，称为码片（Chip）

- m 的值通常为 64 或 128，但在后续的举例中，为简单起见，我们假设 m 为 8，即：将每一个比特时间都划分为 8 个码片

- 使用码分多址（CDMA）的每一个站会被指派一个唯一的 m 比特码片序列（Chip Sequence）

	- 一个站如果要发送比特 1，则发送它自己的 m 比特码片序列

	- 一个站如果要发送比特 0，则发送它自己的 m 比特码片序列的二进制反码

- 举例：

	- 假设指派给码分多址系统中某个站点的码片序列为 00011011

	- 该站发送比特 1，就是发送自己的码片序列 00011011

	- 该站发送比特 0，就是发送自己的码片序列的二进制反码 11100100

	- 为了方便，我们按照惯例将码片序列中的 0 写为 -1，1 写为 +1

	- 则该站点的码片序列是（-1 -1 -1 +1 +1 -1 +1 +1）

> 这种通信方式称为直接序列扩频 DSSS

- 码片序列的挑选原则如下：

	1. 分配给每个站的码片序列必须各不相同，实际常采用伪随机码序列

	2. 分配给每个站的码片序列必须相互正交（规格化内积为 0）

		- 令向量 S 表示表示站 S 的码片序列，向量 T 表示其他任何站的码片序列

		- 两个不同站 S 和 T 的码片序列正交，就是向量 S 和 T 的规格化内积为 0

		- 可写为如下的表达式

		![image-20220321161006395](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321161006395.png)

		- 向量 S 和 T 的规格化内积为 0，就是将向量 S 和 T 中的对应分量相乘，然后相加，再除以向量中分量的数量

		- 其结果为 0

> 思考：任何一个码片向量和该码片向量自己的规格化内积是多少呢 ？
>
> 显然，应该是 1

![image-20220321161409501](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321161409501.png)

- 不仅如此，任何一个码片向量和其他各站码片反码的向量的内积也是 0

- 任何一个码片向量和该码片反码的向量的内积是 -1

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220321161753004.png" alt="image-20220321161753004" style="zoom:60%;" />

##### 练习题

![image-20220321162019200](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321162019200.png)

##### 码分多址 CDMA 的应用

- 假设 A、B、C、D 是码分多址系统中的 4 个站点

- A 站发送比特 1，也就是发送自己所分配到的码片序列（为简单起见，我们用向量 A 来表示 A 站的码片序列）

- B 站发送比特 0，也就是发送自己所分配到的码片序列的二进制反码（为简单起见，我们用向量 B反 来表示 B 站的码片序列的二进制反码）

- C 站没有发送数据

- 显然，D 站可以接收到 A 站和 B 站所发送信号的叠加信号

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220321163550379.png" alt="image-20220321163550379" style="zoom:50%;" />

- 假设系统中的各站所发送的码片序列都是同步的，接收站 D 知道其他各站点所特有的码片序列

- 则接收站 D 对所接收到的叠加信号可以进行判断

- 要判断 A 站是否发送数据，所发送的是比特 0 还是比特 1，可将收到的叠加信号的码片向量与 A 站自身的码片向量进行规格化内积运算

![image-20220321162820556](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321162820556.png)

- 根据之前给出过的参考公式（如下图所示）

![image-20220321162911267](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321162911267.png)

- 可计算出结果为 1

![image-20220321163001803](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321163001803.png)

- 同理，要判断 B 站，可将收到的叠加信号的码片向量，与 B 站自身的码片向量进行规格化内积运算，可计算出结果为 -1

![image-20220321163127759](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321163127759.png)

- 要判断 C 站，可将收到的叠加信号的码片向量，与 C 站自身的码片向量进行规格化内积运算，可计算出结果为 0

![image-20220321163449874](https://gitee.com/pj-l/imgs-1/raw/master/image-20220321163449874.png)



---

- 实际上，由于该技术主要用于多址接入，故人们更常用的名词是码分多址 CDMA（`C`ode `D`ivision `M`ultiple `A`ccess）

- 同理，频分复用和时分复用同样可用于多址接入，相应的名词是频分多址 FDMA（Frequency Division Multiple Access）和时分多址 TDMA（Time Division Multiple Access）

- 本笔记书并不严格区分复用和多址的概念，可简单理解如下：

	- 复用：

		- 是将单一媒体的频带资源划分成很多子信道，这些子信道之间相互独立，互不干扰

		- 从媒体的整体频带资源上看，每个子信道只占用该媒体频带资源的一部分

	- 多址（更确切地应该称为多点接入）：

		- 它处理的是动态分配信道给用户

		- 这在用户仅仅暂时性占用信道的应用中是必须的

		- 所有的移动通信系统基本上都属于这种情况

		- 相反，在信道永久性地分配给用户的应用中，是不需要多址的（比如无线广播或电视广播站）

	- 从某种程度上，CDMA、FDMA、TDMA 可以分别看成是 CDM、FDM、TDM 的应用

















