#### 概览

- MAC 地址：以太网的 MAC 子层所使用的地址，属于 TCP/IP 体系结构的「数据链路层」

- IP 地址和 ARP 协议属于 TCP/IP 体系结构的「网际层」

- 若已知设备的 IP 地址，使用 ARP 协议，就可获取该设备的 MAC 地址

#### MAC 地址

- 如图所示，两台主机通过一条链路通信

<img src="/home/lpj/.config/Typora/typora-user-images/image-20220323184739004.png" alt="image-20220323184739004" style="zoom:60%;" />

- 显然，它们不需要使用地址就能通信（因为连接在信道上的主机只有它们两个呀～）

> 即：使用点对点信道的数据链路层不需要地址

---

- 再来看使用共享信道的总线型局域网

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220323184956437.png" alt="image-20220323184956437" style="zoom:55%;" />

- 当总线上的一台主机要给另一台主机发送帧

- 那么表示帧的信号会通过总线传送到总线上的所有主机（即：信号广播）

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220323185151762.png" alt="image-20220323185151762" style="zoom:55%;" />

- 那么主机如何判断收到的帧是不是发送给自己的呢 ？

> 显然：数据链路层若使用广播信道，则必须用地址来区分各主机
>
> 即：当多个主机连接在同一个广播信道上，要想实现主机之间的通信，则每个主机都必须有一个唯一的标识，即一个数据链路层地址

- 如下图，用不同的大写字母来表示总线上各主机的地址

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220323190725565.png" alt="image-20220323190725565" style="zoom:50%;" />

- 在每个主机发送的帧中，必须携带用于标识（发送主机 & 接收主机）的地址

> 由于这类地址是用于媒体接入控制 MAC（`M`edia `A`ccess `C`ontrol）的，因此被称为 MAC 地址

---

- 如下图，主机 C 要给主机 D 发送帧

	- 则在帧首部中的「目的地址字段」，应填入主机 D 的 MAC 地址

	- 而在「源地址字段」，应填入主机 C 自己的 MAC 地址

- 如此一来，总线上其他各主机收到该帧后，就可以根据帧首部中的目的地址字段的值是否与自己的 MAC 地址匹配来选择丢弃还是接受该帧

![image-20220325103643203](https://gitee.com/pj-l/imgs-1/raw/master/image-20220325103643203.png)

---

> MAC 地址一般被固化在网卡（网络适配器）的电可擦可编程只读存储器 EEPROM 中，因此 MAC 地址也被称为「硬件地址」
>
> MAC 地址有时也被称为物理地址（eg：在 Windows 系统中，哦这真是一个糟糕的命名），但 MAC 地址实际上是属于数据链路层 ！

![image-20220325104952486](https://gitee.com/pj-l/imgs-1/raw/master/image-20220325104952486.png)

- 下图是一块 PCI 接口的千兆以太网卡

	- 其核心芯片采用了 REALTEK 的 8169SC，该芯片实现了以太网的物理层和数据链路层
	
	- 其 EEPROM 芯片（eg：93C46）用于存储网卡的相关信息以及 MAC 地址
	
	- 其 BootROM 插槽用于网络无盘工作站的启动，但一般并不标配启动芯片
	
	- 其网络隔离变压器能够将核心芯片与外部相隔离，提高抗干扰能力，并对核心芯片进行保护（eg：防雷击）

![image-20220325104607683](https://gitee.com/pj-l/imgs-1/raw/master/image-20220325104607683.png)

---

- 一般情况下，用户的主机会包含 2 个网卡（网络适配器）

	1. 有线局域网适配器（有线网卡）

	2. 无线局域网适配器（无线网卡）

- 每个网络适配器都有一个全球唯一的 MAC 地址

- 而交换机和路由器往往拥有很多网络接口，所以就会拥有更多的 MAC 地址

> 所以，严格来说，MAC 地址是对网络上各接口的唯一标识，而不是对网络上各设备的唯一标识

---

#### IEEE 802 局域网的 MAC 地址格式

- 它由 48 bit 构成

- 前 3 个字节是「组织唯一标识符 OUI」

	- 生产网络设备的厂商需要向 IEEE 的注册管理机构申请 1 个或多个 OUI

- MAC 地址的标准表示方法

	- 是将每 4 个比特，写成一个 16 进制的字符，共 12 个字符

	- 然后将每 2 个字符分成 1 组，共 6 组

	- 组之间用短横线连接（也可将短横线改为冒号）

	- 当然，也可将每 4 个字符分为一组，共 3 组，组之间用点连接

![image-20220325110324966](https://gitee.com/pj-l/imgs-1/raw/master/image-20220325110324966.png)

> 另外，我们可以在 IEEE 的官网，查看已分配的组织唯一标识符 OUI：https://standards-oui.ieee.org/oui/oui.txt
>
> 如果我们知道设备的 MAC 地址，而不知道该设备的厂商信息，就可通过设备的 MAC 地址来查询

![image-20220325111001477](https://gitee.com/pj-l/imgs-1/raw/master/image-20220325111001477.png)

---

