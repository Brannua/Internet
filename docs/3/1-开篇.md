#### 数据链路层在网络体系结构中的地位

- 从 5 层协议的原理体系结构的角度来看，主机应具有体系结构中的各个层次，而路由器只需具有体系结构中的下面 3 层

- 各设备通过物理层下面的传输媒体进行互连

- 如下图所示，主机 H1 向主机 H2 发送数据

- 主机 H1 将待发送的数据逐层封装后，通过物理层将构成数据包的各比特转化为电信号，发送到传输媒体

- 数据包进入路由器后，由下往上逐层解封到网络层，路由器根据（数据包的目的网络地址 & 自身转发表）确定数据包的转发端口

- 然后从网络层向下逐层封装数据包，并通过物理层将数据包发送到传输媒体

- 数据包最终到达主机 H2，由下往上逐层解封，最终解封出主机 H1 发送的数据

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220314104159822.png" alt="image-20220314104159822" style="zoom:44%;" />

> 仅从数据链路层来看，主机 H1 到主机 H2 的通信，可以从逻辑上看成是在 4 段不同链路上的通信
>
> 链路：Link，就是从一个结点到相邻结点的一段物理线路，中间没有任何其他的交换结点

- 要在链路上传输数据，仅有链路还不够，还需要一些通信协议来控制这些数据的传输

- 若把实现这些协议的（硬件 & 软件）加到链路上，就构成了数据链路

- 在数据链路层上传输的数据包，称为「帧」

> 数据链路层以「帧」为单位进行数据的传输和处理

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220314104906720.png" alt="image-20220314104906720" style="zoom:45%;" />

#### 数据链路层的 3 个重要问题

##### 1. 封装成帧

- 如图所示，两台主机通过一段链路互连

- 两台主机都会对所发送或接收的数据包进行 5 个层次的封装或解封

- 发送方将待发送的数据，通过应用层，封装成应用层协议数据单元，然后交付给运输层

- 运输层为其添加运输层协议首部，使之成为运输层协议数据单元，然后交付给网络层

- 网络层为其添加网络层协议首部，使之成为网络层协议数据单元，然后交付给数据链路层

- 数据链路层为其添加（帧头，即数据链路层协议首部 & 帧尾）

> 我们将数据链路层给网络层交付的协议数据单元添加帧头和帧尾的操作，称为「封装成帧」

- 添加帧头和帧尾的目的：是为了在链路上以帧为单元进行数据传输，也就是为了实现数据链路层本身的功能


##### 2. 差错检测

##### 3. 可靠传输

