## 可靠传输的实现机制之（停止-等待协议SW）

- 如图所示，收发双方不局限于一条点对点的数据链路，而是基于互联网进行通信

- 纵坐标表示「时间」

- 发送方给接收方发送数据分组，接收方收到后对其进行差错检测，若没有误码，则接收该数据分组，并给发送方发送「确认分组」，简称为 ACK

- 发送方收到对所发送数据分组的确认分组后，才能发送下一个数据分组

- 假设下一个数据分组在传输过程中出现了误码，接收方收到后对其进行差错检测，发现了误码，则丢弃该数据分组，并给发送方发送「否认分组」，简称为 NAK

- 发送方收到对所发送数据分组的否认分组后，就知道了之前自己所发送的数据分组出现了差错而被接收方拒绝

- 于是发送方立刻「重传」该数据分组（因此，发送方每发送完一个数据分组，并不能立刻将该数据分组从缓存中剔除，只有在收到针对该数据分组的确认分组后，才能将其从缓存中删除）

- 这样就实现了发送方发送什么，接收方最终就能收到什么，也就是所谓的可靠传输

<img src="https://gitee.com/pj-l/imgs-1/raw/master/image-20220317230318113.png" style="zoom:50%;" />

> 但实际情况远比我们想象的复杂
